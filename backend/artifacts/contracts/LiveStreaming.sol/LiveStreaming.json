{
  "_format": "hh-sol-artifact-1",
  "contractName": "LiveStreaming",
  "sourceName": "contracts/LiveStreaming.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "commenter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "name": "CommentAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "StreamCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "StreamDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "tipper",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Tipped",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "watcher",
          "type": "address"
        }
      ],
      "name": "WatcherAdded",
      "type": "event"
    },
    {
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "name": "addComment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "balances",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "watchFee",
          "type": "uint256"
        }
      ],
      "name": "createStream",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "name": "deactivateStream",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "name": "getCommentsByStreamId",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "commenter",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "message",
              "type": "string"
            }
          ],
          "internalType": "struct LiveStreaming.Comment[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "name": "getStreamByID",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "watchFee",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "StreamID",
              "type": "uint256"
            }
          ],
          "internalType": "struct LiveStreaming.Stream",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getStreamIds",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "name": "getWatchesByStream",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        },
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "isWhitelisted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "name": "joinStream",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "streamId",
          "type": "uint256"
        }
      ],
      "name": "tip",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506110f6806100206000396000f3fe6080604052600436106100ab5760003560e01c8063551479dd11610064578063551479dd146101f4578063655cf55a146102145780638abb749614610272578063aa7e568314610294578063cebd51ba146102b4578063e8b69bc3146102e1576100d6565b80630e47642a146100f557806312065fe01461012c57806327e235e31461014957806329c7aa421461017657806331a7c92b146101985780633af32abf146101ab576100d6565b366100d65733600090815260046020526040812080543492906100cf908490610d0e565b9091555050005b33600090815260046020526040812080543492906100cf908490610d0e565b34801561010157600080fd5b50610115610110366004610d26565b6102f4565b604051610123929190610d7a565b60405180910390f35b34801561013857600080fd5b50475b604051908152602001610123565b34801561015557600080fd5b5061013b610164366004610dda565b60046020526000908152604090205481565b34801561018257600080fd5b50610196610191366004610d26565b610418565b005b6101966101a6366004610d26565b610546565b3480156101b757600080fd5b506101e46101c6366004610dda565b6001600160a01b031660009081526003602052604090205460ff1690565b6040519015158152602001610123565b34801561020057600080fd5b5061013b61020f366004610d26565b6106d7565b34801561022057600080fd5b5061023461022f366004610d26565b6107a7565b604051610123919081516001600160a01b03168152602080830151151590820152604080830151908201526060918201519181019190915260800190565b34801561027e57600080fd5b50610287610861565b6040516101239190610e0a565b3480156102a057600080fd5b506101966102af366004610e33565b6108ee565b3480156102c057600080fd5b506102d46102cf366004610d26565b610a38565b6040516101239190610f3b565b6101966102ef366004610d26565b610b51565b60608060006002600085815260200190815260200160002080548060200260200160405190810160405280929190818152602001828054801561035657602002820191906000526020600020905b815481526020019060010190808311610342575b505050505090506000815167ffffffffffffffff81111561037957610379610e1d565b6040519080825280602002602001820160405280156103a2578160200160208202803683370190505b50905060005b825181101561040d5760008382815181106103c5576103c5610fb8565b60200260200101519050808383815181106103e2576103e2610fb8565b6001600160a01b0390921660209283029190910190910152508061040581610fce565b9150506103a8565b509094909350915050565b6000818152600160205260409020546001600160a01b0316331461049b5760405162461bcd60e51b815260206004820152602f60248201527f4f6e6c79207468652073747265616d206f776e65722063616e2064656163746960448201526e76617465207468652073747265616d60881b60648201526084015b60405180910390fd5b600081815260016020526040902054600160a01b900460ff166105005760405162461bcd60e51b815260206004820152601e60248201527f5468652073747265616d20697320616c726561647920696e61637469766500006044820152606401610492565b600081815260016020526040808220805460ff60a01b1916905551339183917f56032a1fe68cdbe495138d76bbfbfa60440f23eed83d21a6a1aade7edc20b0d09190a350565b600081815260016020526040902054600160a01b900460ff1661057b5760405162461bcd60e51b815260040161049290610fe9565b600081815260016020819052604090912001543410156105d35760405162461bcd60e51b8152602060048201526013602482015272496e636f72726563742077617463682066656560681b6044820152606401610492565b336000908152600360209081526040808320805460ff1916600117905583835260059091528120546001600160a01b031690606461061234605f611020565b61061c919061103f565b6040519091506001600160a01b0383169082156108fc029083906000818181858888f19350505050158015610655573d6000803e3d6000fd5b506106608134611061565b306000908152600460205260408120805490919061067f908490610d0e565b90915550506000838152600260209081526040808320805460018101825590845291832033920182905551909185917f91556c194f9422ec9c8918e86bf1cf49ab3a0daaac75defda49f5c9e48a43bea9190a3505050565b6000805460408051608081018252338082526001602080840182815284860189815260608601888152888a52848452878a209651875493511515600160a01b026001600160a81b03199094166001600160a01b03919091161792909217865551928501929092559051600290930192909255600590915290832080546001600160a01b0319169091179055815490918061077083610fce565b9091555050604051339082907fd231fdf89ff594ed94b945199f7acf7bde6184b499cb6026b2469c82fd1960a190600090a3919050565b60408051608081018252600080825260208201819052918101829052606081018290529054821061080e5760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081cdd1c99585b481251607a1b6044820152606401610492565b50600090815260016020818152604092839020835160808101855281546001600160a01b0381168252600160a01b900460ff16151592810192909252918201549281019290925260020154606082015290565b60606000805467ffffffffffffffff81111561087f5761087f610e1d565b6040519080825280602002602001820160405280156108a8578160200160208202803683370190505b50905060005b6000548110156108e857808282815181106108cb576108cb610fb8565b6020908102919091010152806108e081610fce565b9150506108ae565b50919050565b600082815260016020526040902054600160a01b900460ff166109235760405162461bcd60e51b815260040161049290610fe9565b3360009081526003602052604090205460ff166109825760405162461bcd60e51b815260206004820152601d60248201527f4f6e6c7920766965776572732063616e2061646420636f6d6d656e74730000006044820152606401610492565b6000828152600660209081526040808320815180830190925233825281830185815281546001808201845592865294849020835160029096020180546001600160a01b0319166001600160a01b039096169590951785555180519294936109ef9392850192910190610c5f565b505050336001600160a01b0316827fcc2d7dd2085ae6644799a42c0174adf9afc10a43f26db5eac3ddd1f96d1d64be83604051610a2c9190611078565b60405180910390a35050565b606060066000838152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015610b46576000848152602090819020604080518082019091526002850290910180546001600160a01b031682526001810180549293919291840191610ab59061108b565b80601f0160208091040260200160405190810160405280929190818152602001828054610ae19061108b565b8015610b2e5780601f10610b0357610100808354040283529160200191610b2e565b820191906000526020600020905b815481529060010190602001808311610b1157829003601f168201915b50505050508152505081526020019060010190610a6d565b505050509050919050565b600081815260016020526040902054600160a01b900460ff16610b865760405162461bcd60e51b815260040161049290610fe9565b60003411610be25760405162461bcd60e51b8152602060048201526024808201527f54697020616d6f756e74206d7573742062652067726561746572207468616e206044820152637a65726f60e01b6064820152608401610492565b6000818152600560205260408082205490516001600160a01b039091169182913480156108fc0292909190818181858888f19350505050158015610c2a573d6000803e3d6000fd5b50604051348152339083907f9bb057a11c3457c55cb17f11a38392348805c6ccb84a9b7e8d9c42c694a7882b90602001610a2c565b828054610c6b9061108b565b90600052602060002090601f016020900481019282610c8d5760008555610cd3565b82601f10610ca657805160ff1916838001178555610cd3565b82800160010185558215610cd3579182015b82811115610cd3578251825591602001919060010190610cb8565b50610cdf929150610ce3565b5090565b5b80821115610cdf5760008155600101610ce4565b634e487b7160e01b600052601160045260246000fd5b60008219821115610d2157610d21610cf8565b500190565b600060208284031215610d3857600080fd5b5035919050565b600081518084526020808501945080840160005b83811015610d6f57815187529582019590820190600101610d53565b509495945050505050565b604081526000610d8d6040830185610d3f565b82810360208481019190915284518083528582019282019060005b81811015610dcd5784516001600160a01b031683529383019391830191600101610da8565b5090979650505050505050565b600060208284031215610dec57600080fd5b81356001600160a01b0381168114610e0357600080fd5b9392505050565b602081526000610e036020830184610d3f565b634e487b7160e01b600052604160045260246000fd5b60008060408385031215610e4657600080fd5b82359150602083013567ffffffffffffffff80821115610e6557600080fd5b818501915085601f830112610e7957600080fd5b813581811115610e8b57610e8b610e1d565b604051601f8201601f19908116603f01168101908382118183101715610eb357610eb3610e1d565b81604052828152886020848701011115610ecc57600080fd5b8260208601602083013760006020848301015280955050505050509250929050565b6000815180845260005b81811015610f1457602081850181015186830182015201610ef8565b81811115610f26576000602083870101525b50601f01601f19169290920160200192915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b83811015610faa57888303603f19018552815180516001600160a01b03168452870151878401879052610f9787850182610eee565b9588019593505090860190600101610f62565b509098975050505050505050565b634e487b7160e01b600052603260045260246000fd5b6000600019821415610fe257610fe2610cf8565b5060010190565b60208082526018908201527f5468652073747265616d206973206e6f74206163746976650000000000000000604082015260600190565b600081600019048311821515161561103a5761103a610cf8565b500290565b60008261105c57634e487b7160e01b600052601260045260246000fd5b500490565b60008282101561107357611073610cf8565b500390565b602081526000610e036020830184610eee565b600181811c9082168061109f57607f821691505b602082108114156108e857634e487b7160e01b600052602260045260246000fdfea26469706673582212202d93110896dc805106f57fcfe3447ae43fd2f1ae446e59b3f3cc42d988cd44cc64736f6c63430008090033",
  "deployedBytecode": "0x6080604052600436106100ab5760003560e01c8063551479dd11610064578063551479dd146101f4578063655cf55a146102145780638abb749614610272578063aa7e568314610294578063cebd51ba146102b4578063e8b69bc3146102e1576100d6565b80630e47642a146100f557806312065fe01461012c57806327e235e31461014957806329c7aa421461017657806331a7c92b146101985780633af32abf146101ab576100d6565b366100d65733600090815260046020526040812080543492906100cf908490610d0e565b9091555050005b33600090815260046020526040812080543492906100cf908490610d0e565b34801561010157600080fd5b50610115610110366004610d26565b6102f4565b604051610123929190610d7a565b60405180910390f35b34801561013857600080fd5b50475b604051908152602001610123565b34801561015557600080fd5b5061013b610164366004610dda565b60046020526000908152604090205481565b34801561018257600080fd5b50610196610191366004610d26565b610418565b005b6101966101a6366004610d26565b610546565b3480156101b757600080fd5b506101e46101c6366004610dda565b6001600160a01b031660009081526003602052604090205460ff1690565b6040519015158152602001610123565b34801561020057600080fd5b5061013b61020f366004610d26565b6106d7565b34801561022057600080fd5b5061023461022f366004610d26565b6107a7565b604051610123919081516001600160a01b03168152602080830151151590820152604080830151908201526060918201519181019190915260800190565b34801561027e57600080fd5b50610287610861565b6040516101239190610e0a565b3480156102a057600080fd5b506101966102af366004610e33565b6108ee565b3480156102c057600080fd5b506102d46102cf366004610d26565b610a38565b6040516101239190610f3b565b6101966102ef366004610d26565b610b51565b60608060006002600085815260200190815260200160002080548060200260200160405190810160405280929190818152602001828054801561035657602002820191906000526020600020905b815481526020019060010190808311610342575b505050505090506000815167ffffffffffffffff81111561037957610379610e1d565b6040519080825280602002602001820160405280156103a2578160200160208202803683370190505b50905060005b825181101561040d5760008382815181106103c5576103c5610fb8565b60200260200101519050808383815181106103e2576103e2610fb8565b6001600160a01b0390921660209283029190910190910152508061040581610fce565b9150506103a8565b509094909350915050565b6000818152600160205260409020546001600160a01b0316331461049b5760405162461bcd60e51b815260206004820152602f60248201527f4f6e6c79207468652073747265616d206f776e65722063616e2064656163746960448201526e76617465207468652073747265616d60881b60648201526084015b60405180910390fd5b600081815260016020526040902054600160a01b900460ff166105005760405162461bcd60e51b815260206004820152601e60248201527f5468652073747265616d20697320616c726561647920696e61637469766500006044820152606401610492565b600081815260016020526040808220805460ff60a01b1916905551339183917f56032a1fe68cdbe495138d76bbfbfa60440f23eed83d21a6a1aade7edc20b0d09190a350565b600081815260016020526040902054600160a01b900460ff1661057b5760405162461bcd60e51b815260040161049290610fe9565b600081815260016020819052604090912001543410156105d35760405162461bcd60e51b8152602060048201526013602482015272496e636f72726563742077617463682066656560681b6044820152606401610492565b336000908152600360209081526040808320805460ff1916600117905583835260059091528120546001600160a01b031690606461061234605f611020565b61061c919061103f565b6040519091506001600160a01b0383169082156108fc029083906000818181858888f19350505050158015610655573d6000803e3d6000fd5b506106608134611061565b306000908152600460205260408120805490919061067f908490610d0e565b90915550506000838152600260209081526040808320805460018101825590845291832033920182905551909185917f91556c194f9422ec9c8918e86bf1cf49ab3a0daaac75defda49f5c9e48a43bea9190a3505050565b6000805460408051608081018252338082526001602080840182815284860189815260608601888152888a52848452878a209651875493511515600160a01b026001600160a81b03199094166001600160a01b03919091161792909217865551928501929092559051600290930192909255600590915290832080546001600160a01b0319169091179055815490918061077083610fce565b9091555050604051339082907fd231fdf89ff594ed94b945199f7acf7bde6184b499cb6026b2469c82fd1960a190600090a3919050565b60408051608081018252600080825260208201819052918101829052606081018290529054821061080e5760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081cdd1c99585b481251607a1b6044820152606401610492565b50600090815260016020818152604092839020835160808101855281546001600160a01b0381168252600160a01b900460ff16151592810192909252918201549281019290925260020154606082015290565b60606000805467ffffffffffffffff81111561087f5761087f610e1d565b6040519080825280602002602001820160405280156108a8578160200160208202803683370190505b50905060005b6000548110156108e857808282815181106108cb576108cb610fb8565b6020908102919091010152806108e081610fce565b9150506108ae565b50919050565b600082815260016020526040902054600160a01b900460ff166109235760405162461bcd60e51b815260040161049290610fe9565b3360009081526003602052604090205460ff166109825760405162461bcd60e51b815260206004820152601d60248201527f4f6e6c7920766965776572732063616e2061646420636f6d6d656e74730000006044820152606401610492565b6000828152600660209081526040808320815180830190925233825281830185815281546001808201845592865294849020835160029096020180546001600160a01b0319166001600160a01b039096169590951785555180519294936109ef9392850192910190610c5f565b505050336001600160a01b0316827fcc2d7dd2085ae6644799a42c0174adf9afc10a43f26db5eac3ddd1f96d1d64be83604051610a2c9190611078565b60405180910390a35050565b606060066000838152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015610b46576000848152602090819020604080518082019091526002850290910180546001600160a01b031682526001810180549293919291840191610ab59061108b565b80601f0160208091040260200160405190810160405280929190818152602001828054610ae19061108b565b8015610b2e5780601f10610b0357610100808354040283529160200191610b2e565b820191906000526020600020905b815481529060010190602001808311610b1157829003601f168201915b50505050508152505081526020019060010190610a6d565b505050509050919050565b600081815260016020526040902054600160a01b900460ff16610b865760405162461bcd60e51b815260040161049290610fe9565b60003411610be25760405162461bcd60e51b8152602060048201526024808201527f54697020616d6f756e74206d7573742062652067726561746572207468616e206044820152637a65726f60e01b6064820152608401610492565b6000818152600560205260408082205490516001600160a01b039091169182913480156108fc0292909190818181858888f19350505050158015610c2a573d6000803e3d6000fd5b50604051348152339083907f9bb057a11c3457c55cb17f11a38392348805c6ccb84a9b7e8d9c42c694a7882b90602001610a2c565b828054610c6b9061108b565b90600052602060002090601f016020900481019282610c8d5760008555610cd3565b82601f10610ca657805160ff1916838001178555610cd3565b82800160010185558215610cd3579182015b82811115610cd3578251825591602001919060010190610cb8565b50610cdf929150610ce3565b5090565b5b80821115610cdf5760008155600101610ce4565b634e487b7160e01b600052601160045260246000fd5b60008219821115610d2157610d21610cf8565b500190565b600060208284031215610d3857600080fd5b5035919050565b600081518084526020808501945080840160005b83811015610d6f57815187529582019590820190600101610d53565b509495945050505050565b604081526000610d8d6040830185610d3f565b82810360208481019190915284518083528582019282019060005b81811015610dcd5784516001600160a01b031683529383019391830191600101610da8565b5090979650505050505050565b600060208284031215610dec57600080fd5b81356001600160a01b0381168114610e0357600080fd5b9392505050565b602081526000610e036020830184610d3f565b634e487b7160e01b600052604160045260246000fd5b60008060408385031215610e4657600080fd5b82359150602083013567ffffffffffffffff80821115610e6557600080fd5b818501915085601f830112610e7957600080fd5b813581811115610e8b57610e8b610e1d565b604051601f8201601f19908116603f01168101908382118183101715610eb357610eb3610e1d565b81604052828152886020848701011115610ecc57600080fd5b8260208601602083013760006020848301015280955050505050509250929050565b6000815180845260005b81811015610f1457602081850181015186830182015201610ef8565b81811115610f26576000602083870101525b50601f01601f19169290920160200192915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b83811015610faa57888303603f19018552815180516001600160a01b03168452870151878401879052610f9787850182610eee565b9588019593505090860190600101610f62565b509098975050505050505050565b634e487b7160e01b600052603260045260246000fd5b6000600019821415610fe257610fe2610cf8565b5060010190565b60208082526018908201527f5468652073747265616d206973206e6f74206163746976650000000000000000604082015260600190565b600081600019048311821515161561103a5761103a610cf8565b500290565b60008261105c57634e487b7160e01b600052601260045260246000fd5b500490565b60008282101561107357611073610cf8565b500390565b602081526000610e036020830184610eee565b600181811c9082168061109f57607f821691505b602082108114156108e857634e487b7160e01b600052602260045260246000fdfea26469706673582212202d93110896dc805106f57fcfe3447ae43fd2f1ae446e59b3f3cc42d988cd44cc64736f6c63430008090033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
